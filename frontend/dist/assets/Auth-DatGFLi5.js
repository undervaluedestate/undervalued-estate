import{r as c,s as r,j as s}from"./index-k2i1u5ov.js";function h(){const[o,n]=c.useState("checking");return c.useEffect(()=>{let i;return(async()=>{try{setTimeout(async()=>{const{data:e}=await r.auth.getSession();if(e!=null&&e.session){n("verified");try{const t=`${window.location.origin}${window.location.pathname}#auth`;window.history.replaceState({},document.title,t)}catch{}setTimeout(()=>{window.location.hash="#deals"},600)}else n("checking")},200),i=r.auth.onAuthStateChange((e,t)=>{if(t){n("verified");try{const a=`${window.location.origin}${window.location.pathname}#auth`;window.history.replaceState({},document.title,a)}catch{}setTimeout(()=>{window.location.hash="#deals"},600)}})}catch{setTimeout(()=>{window.location.hash="#deals"},800)}})(),()=>{var e,t,a;try{(a=(t=(e=i==null?void 0:i.data)==null?void 0:e.subscription)==null?void 0:t.unsubscribe)==null||a.call(t)}catch{}}},[]),s.jsxs("div",{className:"card",style:{maxWidth:420,margin:"0 auto",textAlign:"center"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Verifying your email…"}),s.jsxs("div",{style:{opacity:.8},children:[o==="checking"&&"One moment while we verify your account.",o==="verified"&&"Success! Redirecting you to your dashboard…",o==="redirecting"&&"Redirecting…"]})]})}export{h as default};
